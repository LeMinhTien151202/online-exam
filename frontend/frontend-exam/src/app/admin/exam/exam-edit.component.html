<div class="admin-container">
  <h2>Sửa bài thi</h2>
  <form class="admin-form" (ngSubmit)="updateExam()" enctype="multipart/form-data">
    <div class="form-group">
      <label for="name">Tên bài thi</label>
      <input id="name" type="text" class="form-control" [(ngModel)]="exam.examName" name="examName" required />
    </div>

    <div class="form-group">
      <label>Danh mục</label>
      <select class="form-control" [(ngModel)]="exam.categoryId" name="categoryId" required>
        <option *ngFor="let cat of categories" [value]="cat.categoryId">{{ cat.categoryName }}</option>
      </select>
    </div>
    <div class="form-group">
      <label>Cấp độ</label>
      <select class="form-control" [(ngModel)]="exam.levelId" name="levelId" required>
        <option *ngFor="let lvl of levels" [value]="lvl.levelId">{{ lvl.levelName }}</option>
      </select>
    </div>
    <div class="form-group">
      <label>Ảnh bài thi (chọn mới nếu muốn thay đổi)</label>
      <input type="file" class="form-control" (change)="onFileSelected($event)">
      <div *ngIf="exam.pictures">
        <img [src]="'../../../assets/' + exam.pictures" alt="Ảnh hiện tại" style="width:60px; margin-top:8px;">
      </div>
    </div>
    <div class="form-actions">
      <button class="btn btn-success" type="submit">Lưu</button>
      <button class="btn btn-secondary" type="button" (click)="cancelEdit()">Hủy</button>
    </div>
  </form>
</div>
